{% load custom_filters %}
<div class="container">
    {% for entry in entries %}
        {% if forloop.counter0|divisibleby:4 %}
            <div class="row mb-3">
        {% endif %}
        
        <div class="col-md-3">
            <div class="card text-white bg-secondary mb-3 mx-3" style="max-width: 20rem;">
                <div class="card-header">{% if entry.generated_header %}{{ entry.generated_header }}{% else %}Fun Header{% endif %}</div>
                <div class="card-body">
                    <h4 class="card-title">{{ entry.date }}</h4>
                    <p class="card-text">{{ entry.log|safe|truncate_log }}</p>
                </div>
            </div>
        </div>
        
        {% if forloop.counter0|add:1|divisibleby:4 %}
            </div>
        {% endif %}
    {% endfor %}
    
    {% if not forloop.counter0|divisibleby:4 %}
        </div>
    {% endif %}
</div>
